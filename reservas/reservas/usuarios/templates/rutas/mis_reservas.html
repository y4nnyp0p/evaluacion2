{% extends "base.html" %}
{% block title %}Mis reservas{% endblock %}

{% block content %}
<h2 class="section-title mb-1">Mis reservas</h2>
<p class="section-subtitle mb-4">Consulta tus reservas confirmadas y el detalle de cada viaje.</p>

<div class="table-card">
  <div class="table-responsive">
    <table class="table align-middle">
      <thead>
        <tr>
          <th>Ruta</th>
          <th>Fecha y hora</th>
          <th>Asiento</th>
          <th>Reservado el</th>
        </tr>
      </thead>
      <tbody>
        {% for reserva in reservas %}
          <tr>
            <td>{{ reserva.ruta.origen }} -> {{ reserva.ruta.destino }}</td>
            <td>{{ reserva.ruta.fecha|date:"d/m/Y" }} {{ reserva.ruta.hora_salida|time:"H:i" }}</td>
            <td><span class="badge bg-primary-subtle text-primary">Asiento {{ reserva.asiento }}</span></td>
            <td>{{ reserva.fecha_reserva|date:"d/m/Y H:i" }}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="4" class="text-center text-muted py-4">
              Aun no tienes reservas registradas.
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="d-flex justify-content-end mt-3">
  <a href="{% url 'listar_rutas_cliente' %}" class="btn btn-outline-primary">Buscar nuevas rutas</a>
</div>
{% endblock %}
